## 需求分析

### 1. 顾客子系统

#### 业务流程：

1. 注册账户：顾客提供用户名和密码进行注册。
2. 登录账户：顾客使用已注册的账户进行登录。
3. 查询图书：顾客根据ISBN号、作者名称、关键字、书名等进行图书查询。
4. 购买图书：顾客根据给定的ISBN号和购买数量来购买图书。

#### 数据流图：

```mermaid
A[顾客] -->|注册账户| B(注册)
A -->|登录账户| C(登录)
A -->|查询图书| D(查询)
A -->|购买图书| E(购买)
```

### 2. 销售人员子系统

#### 业务流程：

1. 注册账户：销售人员提供用户名和密码进行注册。
2. 登录账户：销售人员使用已注册的账户进行登录。
3. 执行顾客操作：销售人员可以执行顾客可以执行的所有操作。
4. 进货：销售人员可以进行图书的进货操作，需要指定ISBN号、数量和进货价格。
5. 录入图书信息：销售人员可以录入图书的完整信息。

#### 数据流图：

```mermaid
A[销售人员] -->|注册账户| B(注册)
A -->|登录账户| C(登录)
A -->|执行顾客操作| D(执行操作)
A -->|进货| E(进货)
A -->|录入图书信息| F(录入信息)
```

### 3. 店长子系统

#### 业务流程：

1. 注册账户：店长提供用户名和密码进行注册。
2. 登录账户：店长使用已注册的账户进行登录。
3. 执行销售人员和顾客操作：店长可以执行销售人员和顾客可以执行的所有操作。
4. 查询采购信息：店长可以按照采购顺序输出某段时间的采购图书的ISBN号、数量、单价等信息。
5. 查询销售情况：店长可以按照销售顺序输出某段时间的售出图书的ISBN号、数量、单价等信息。
6. 查询盈利信息：店长可以输出某段时间的收入、支出以及利润信息。
7. 查看员工工作情况报告：店长可以查看各员工的操作类型及其对象的工作情况报告。
8. 查看系统整体工作日志：店长可以查看系统的整体工作日志。

#### 数据流图：

```mermaid
A[店长] -->|注册账户| B(注册)
A -->|登录账户| C(登录)
A -->|执行销售人员和顾客操作| D(执行操作)
A -->|查询采购信息| E(查询采购)
A -->|查询销售情况| F(查询销售)
A -->|查询盈利信息| G(查询盈利)
A -->|查看员工工作情况报告| H(查看报告)
A -->|查看系统整体工作日志| I(查看日志)
```

### 4. 数据流图解释

- 顾客子系统负责顾客的注册、登录、查询和购买图书等操作。
- 销售人员子系统负责销售人员的注册、登录、执行顾客操作、进货和录入图书信息等操作。
- 店长子系统负责店长的注册、登录、执行销售人员和顾客操作、查询采购信息、查询销售情况、查询盈利信息、查看员工工作情况报告和查看系统整体工作日志等操作。

这些子系统之间通过用户账户进行交互，根据用户的角色权限进行相应的操作。数据在各个子系统之间通过文件存储进行传递和共享，以实现持久化存储和数据共享的需求。